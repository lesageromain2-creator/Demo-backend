# ============================================
# BACKEND .env.example - SITE HÔTEL
# Copier vers .env et remplir toutes les valeurs
# ============================================

# ============================================
# ENVIRONMENT
# ============================================
NODE_ENV=development
PORT=5000
HOST=0.0.0.0

# ============================================
# FRONTEND URL (CORS)
# ============================================
FRONTEND_URL=http://localhost:3000
ALLOWED_ORIGINS=http://localhost:3000,https://votre-site.vercel.app

# ============================================
# DATABASE - SUPABASE POSTGRESQL
# ============================================
# Nouveau projet Supabase : créer un projet, puis Settings > Database > Connection string
# Connection Pooler (Transaction - Port 5432 ou 6543 selon région)
DATABASE_URL=postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:5432/postgres
# Direct (pour migrations Prisma)
DIRECT_URL=postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres

# Supabase API (optionnel - pour RLS ou Realtime)
SUPABASE_URL=https://[PROJECT-REF].supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ============================================
# AUTH - JWT (Backend API)
# ============================================
# Générer : node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=votre-secret-jwt-64-caracteres-minimum-super-securise
JWT_EXPIRES_IN=7d
BCRYPT_ROUNDS=10

# Pont Better Auth (frontend) → JWT backend (même secret partagé)
BETTER_AUTH_BACKEND_SECRET=meme-valeur-que-BETTER_AUTH_SECRET-frontend

# ============================================
# BETTER AUTH (si API auth côté backend)
# ============================================
BETTER_AUTH_SECRET=generer-avec-openssl-rand-base64-32
BETTER_AUTH_URL=http://localhost:3000

# ============================================
# SÉCURITÉ
# ============================================
SESSION_SECRET=generer-avec-openssl-rand-base64-32
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15
RESET_TOKEN_EXPIRY_HOURS=1
VERIFICATION_TOKEN_EXPIRY_HOURS=24

# ============================================
# EMAIL - RESEND (recommandé en production)
# ============================================
EMAIL_PROVIDER=resend
RESEND_API_KEY=re_xxxxxxxxxxxxxxxx
EMAIL_FROM_NAME=Votre Hôtel
EMAIL_FROM_ADDRESS=noreply@votrehotel.com
EMAIL_REPLY_TO=contact@votrehotel.com

# ============================================
# EMAIL - SMTP (développement)
# ============================================
# EMAIL_PROVIDER=smtp
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=votre-email@gmail.com
# SMTP_PASS=mot-de-passe-application

# ============================================
# STRIPE (paiements réservations)
# ============================================
STRIPE_SECRET_KEY=your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxx

# ============================================
# CLOUDINARY (images chambres, galerie)
# ============================================
CLOUDINARY_CLOUD_NAME=votre-cloud-name
CLOUDINARY_API_KEY=123456789012345
CLOUDINARY_API_SECRET=votre-api-secret
CLOUDINARY_FOLDER=hotel-uploads

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# HÔTEL (multi-tenant : ID de l’hôtel par défaut)
# ============================================
DEFAULT_HOTEL_ID=uuid-de-votre-hotel-depuis-table-hotels

# ============================================
# OPTIONNEL
# ============================================
# GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
# SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
# REDIS_URL=redis://localhost:6379
